(()=>{"use strict";({9475:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,c){function r(e){try{l(o.next(e))}catch(e){c(e)}}function s(e){try{l(o.throw(e))}catch(e){c(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.albumDownloadHelper=void 0,t.albumDownloadHelper=function(e){const t=/music_(\w+)_score_back/,o=6e4*(540+(new Date).getTimezoneOffset());function a(e,t){return t=t||2,e.toString().padStart(t,"0")}function c(e){return e.getFullYear()+"-"+a(e.getMonth()+1)+"-"+a(e.getDate())+" "+a(e.getHours())+"-"+a(e.getMinutes())}function r(e){const n=function(e){const t=e.getElementsByClassName("block_info")[0].innerText.match(/(\d+)\/(\d+)\/(\d+) (\d+):(\d+)/),n=new Date(parseInt(t[1]),parseInt(t[2])-1,parseInt(t[3]),parseInt(t[4]),parseInt(t[5]));return new Date(n.valueOf()-o)}(e),a=e.getElementsByClassName("black_block")[0].innerText.replace(/<>:"\/\\\|\?\*/g,"-"),r=e.className.match(t);return r?`${c(n)} ${a} ${r[1].toUpperCase()}.jpg`:`${c(n)} ${a}.jpg`}function s(e){return n(this,void 0,void 0,(function*(){const t=e.querySelector("img.w_430");return fetch(t.src).then((e=>e.blob())).then((e=>URL.createObjectURL(e)))}))}function l(t,n,o){const a=t.getElementsByClassName("black_block")[0];if(a.getElementsByTagName("a").length)return;const c=e.createElement("a");c.download=o,c.href=n,c.target="_blank",a.append(c),c.append(a.childNodes[0]," ","ðŸ’¾")}!function(){n(this,void 0,void 0,(function*(){e.body.oncontextmenu=null;const t=Array.from(e.getElementsByClassName("black_block")).map((e=>e.parentElement));for(const e of t)l(e,yield s(e),r(e))}))}()}}})[9475](0,{})})();